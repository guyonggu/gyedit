{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useCallback, useMemo } from 'react';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { Editor, Range, Point, createEditor } from 'slate';\nimport { withHistory } from 'slate-history';\n\nconst TablesExample = () => {\n  const {\n    0: value,\n    1: setValue\n  } = useState(initialValue);\n  const renderElement = useCallback(props => __jsx(Element, props), []);\n  const renderLeaf = useCallback(props => __jsx(Leaf, props), []);\n  const editor = useMemo(() => withTables(withHistory(withReact(createEditor()))), []);\n  return __jsx(Slate, {\n    editor: editor,\n    value: value,\n    onChange: value => setValue(value)\n  }, __jsx(Editable, {\n    renderElement: renderElement,\n    renderLeaf: renderLeaf\n  }));\n};\n\nconst withTables = editor => {\n  const {\n    deleteBackward,\n    deleteForward,\n    insertBreak\n  } = editor;\n\n  editor.deleteBackward = unit => {\n    const {\n      selection\n    } = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const [cell] = Editor.nodes(editor, {\n        match: n => n.type === 'table-cell'\n      });\n\n      if (cell) {\n        const [, cellPath] = cell;\n        const start = Editor.start(editor, cellPath);\n\n        if (Point.equals(selection.anchor, start)) {\n          return;\n        }\n      }\n    }\n\n    deleteBackward(unit);\n  };\n\n  editor.deleteForward = unit => {\n    const {\n      selection\n    } = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const [cell] = Editor.nodes(editor, {\n        match: n => n.type === 'table-cell'\n      });\n\n      if (cell) {\n        const [, cellPath] = cell;\n        const end = Editor.end(editor, cellPath);\n\n        if (Point.equals(selection.anchor, end)) {\n          return;\n        }\n      }\n    }\n\n    deleteForward(unit);\n  };\n\n  editor.insertBreak = () => {\n    const {\n      selection\n    } = editor;\n\n    if (selection) {\n      const [table] = Editor.nodes(editor, {\n        match: n => n.type === 'table'\n      });\n\n      if (table) {\n        return;\n      }\n    }\n\n    insertBreak();\n  };\n\n  return editor;\n};\n\nconst Element = ({\n  attributes,\n  children,\n  element\n}) => {\n  switch (element.type) {\n    case 'table':\n      return __jsx(\"table\", null, __jsx(\"tbody\", attributes, children));\n\n    case 'table-row':\n      return __jsx(\"tr\", attributes, children);\n\n    case 'table-cell':\n      return __jsx(\"td\", attributes, children);\n\n    default:\n      return __jsx(\"p\", attributes, children);\n  }\n};\n\nconst Leaf = ({\n  attributes,\n  children,\n  leaf\n}) => {\n  if (leaf.bold) {\n    children = __jsx(\"strong\", null, children);\n  }\n\n  return __jsx(\"span\", attributes, children);\n};\n\nconst initialValue = [{\n  children: [{\n    text: 'Since the editor is based on a recursive tree model, similar to an HTML document, you can create complex nested structures, like tables:'\n  }]\n}, {\n  type: 'table',\n  children: [{\n    type: 'table-row',\n    children: [{\n      type: 'table-cell',\n      children: [{\n        text: ''\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: 'Human',\n        bold: true\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: 'Dog',\n        bold: true\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: 'Cat',\n        bold: true\n      }]\n    }]\n  }, {\n    type: 'table-row',\n    children: [{\n      type: 'table-cell',\n      children: [{\n        text: '# of Feet',\n        bold: true\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '2'\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '4'\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '4'\n      }]\n    }]\n  }, {\n    type: 'table-row',\n    children: [{\n      type: 'table-cell',\n      children: [{\n        text: '# of Lives',\n        bold: true\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '1'\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '1'\n      }]\n    }, {\n      type: 'table-cell',\n      children: [{\n        text: '9'\n      }]\n    }]\n  }]\n}, {\n  children: [{\n    text: \"This table is just a basic example of rendering a table, and it doesn't have fancy functionality. But you could augment it to add support for navigating with arrow keys, displaying table headers, adding column and rows, or even formulas if you wanted to get really crazy!\"\n  }]\n}];\nexport default TablesExample;","map":null,"metadata":{},"sourceType":"module"}
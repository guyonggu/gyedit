{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yonggu/WebstormProjects/slate/site/examples/code-highlighting.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #dd4a68;\\n          \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #690;\\n          \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #999;\\n          \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #905;\\n          \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #e90;\\n          \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #07a;\\n          \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n            color: #9a6e3a;\\n          \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n            color: slategray;\\n          \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n            font-family: monospace;\\n            background: hsla(0, 0%, 100%, .5);\\n\\n        \", \" \\n\\n        \", \"\\n        \", \"\\n        \", \"\\n        \", \"\\n        \", \"\\n        \", \"\\n        \", \"\\n        \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-php';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-java';\nimport React, { useState, useCallback, useMemo } from 'react';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { Text, createEditor } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { css } from 'emotion';\n\nvar CodeHighlightingExample = function CodeHighlightingExample() {\n  _s();\n\n  var _useState = useState(initialValue),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState('html'),\n      language = _useState2[0],\n      setLanguage = _useState2[1];\n\n  var renderLeaf = useCallback(function (props) {\n    return __jsx(Leaf, _extends({}, props, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 43\n      }\n    }));\n  }, []);\n  var editor = useMemo(function () {\n    return withHistory(withReact(createEditor()));\n  }, []); // decorate function depends on the language selected\n\n  var decorate = useCallback(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        node = _ref2[0],\n        path = _ref2[1];\n\n    var ranges = [];\n\n    if (!Text.isText(node)) {\n      return ranges;\n    }\n\n    var tokens = Prism.tokenize(node.text, Prism.languages[language]);\n    var start = 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = tokens[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var token = _step.value;\n        var length = getLength(token);\n        var end = start + length;\n\n        if (typeof token !== 'string') {\n          var _ranges$push;\n\n          ranges.push((_ranges$push = {}, _defineProperty(_ranges$push, token.type, true), _defineProperty(_ranges$push, \"anchor\", {\n            path: path,\n            offset: start\n          }), _defineProperty(_ranges$push, \"focus\", {\n            path: path,\n            offset: end\n          }), _ranges$push));\n        }\n\n        start = end;\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return ranges;\n  }, [language]);\n  return __jsx(Slate, {\n    editor: editor,\n    value: value,\n    onChange: function onChange(value) {\n      return setValue(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    contentEditable: false,\n    style: {\n      position: 'relative',\n      top: '5px',\n      right: '5px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Select a language\", __jsx(\"select\", {\n    value: language,\n    style: {\n      \"float\": 'right'\n    },\n    onChange: function onChange(e) {\n      return setLanguage(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, __jsx(\"option\", {\n    value: \"js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"JavaScript\"), __jsx(\"option\", {\n    value: \"css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"CSS\"), __jsx(\"option\", {\n    value: \"html\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"HTML\"), __jsx(\"option\", {\n    value: \"python\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Python\"), __jsx(\"option\", {\n    value: \"sql\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"SQL\"), __jsx(\"option\", {\n    value: \"java\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Java\"), __jsx(\"option\", {\n    value: \"php\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"PHP\")))), __jsx(Editable, {\n    decorate: decorate,\n    renderLeaf: renderLeaf,\n    placeholder: \"Write some code...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(CodeHighlightingExample, \"gOvyx2u8cX8c9T+8PV6djJhG5UE=\");\n\n_c = CodeHighlightingExample;\n\nvar getLength = function getLength(token) {\n  if (typeof token === 'string') {\n    return token.length;\n  } else if (typeof token.content === 'string') {\n    return token.content.length;\n  } else {\n    return token.content.reduce(function (l, t) {\n      return l + getLength(t);\n    }, 0);\n  }\n}; // different token types, styles found on Prismjs website\n\n\nvar Leaf = function Leaf(_ref3) {\n  var attributes = _ref3.attributes,\n      children = _ref3.children,\n      leaf = _ref3.leaf;\n  return __jsx(\"span\", _extends({}, attributes, {\n    className: css(_templateObject(), leaf.comment && css(_templateObject2()), (leaf.operator || leaf.url) && css(_templateObject3()), leaf.keyword && css(_templateObject4()), (leaf.variable || leaf.regex) && css(_templateObject5()), (leaf.number || leaf[\"boolean\"] || leaf.tag || leaf.constant || leaf.symbol || leaf.attr - name || leaf.selector) && css(_templateObject6()), leaf.punctuation && css(_templateObject7()), (leaf.string || leaf[\"char\"]) && css(_templateObject8()), (leaf[\"function\"] || leaf[\"class\"] - name) && css(_templateObject9())),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }), children);\n};\n\n_c2 = Leaf;\nvar initialValue = [{\n  children: [{\n    text: '<h1>Hi!</h1>'\n  }]\n}]; // modifications and additions to prism library\n\nPrism.languages.python = Prism.languages.extend('python', {});\nPrism.languages.insertBefore('python', 'prolog', {\n  comment: {\n    pattern: /##[^\\n]*/,\n    alias: 'comment'\n  }\n});\nPrism.languages.javascript = Prism.languages.extend('javascript', {});\nPrism.languages.insertBefore('javascript', 'prolog', {\n  comment: {\n    pattern: /\\/\\/[^\\n]*/,\n    alias: 'comment'\n  }\n});\nPrism.languages.html = Prism.languages.extend('html', {});\nPrism.languages.insertBefore('html', 'prolog', {\n  comment: {\n    pattern: /<!--[^\\n]*-->/,\n    alias: 'comment'\n  }\n});\nPrism.languages.markdown = Prism.languages.extend('markup', {});\nPrism.languages.insertBefore('markdown', 'prolog', {\n  blockquote: {\n    pattern: /^>(?:[\\t ]*>)*/m,\n    alias: 'punctuation'\n  },\n  code: [{\n    pattern: /^(?: {4}|\\t).+/m,\n    alias: 'keyword'\n  }, {\n    pattern: /``.+?``|`[^`\\n]+`/,\n    alias: 'keyword'\n  }],\n  title: [{\n    pattern: /\\w+.*(?:\\r?\\n|\\r)(?:==+|--+)/,\n    alias: 'important',\n    inside: {\n      punctuation: /==+$|--+$/\n    }\n  }, {\n    pattern: /(^\\s*)#+.+/m,\n    lookbehind: !0,\n    alias: 'important',\n    inside: {\n      punctuation: /^#+|#+$/\n    }\n  }],\n  hr: {\n    pattern: /(^\\s*)([*-])([\\t ]*\\2){2,}(?=\\s*$)/m,\n    lookbehind: !0,\n    alias: 'punctuation'\n  },\n  list: {\n    pattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n    lookbehind: !0,\n    alias: 'punctuation'\n  },\n  'url-reference': {\n    pattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n    inside: {\n      variable: {\n        pattern: /^(!?\\[)[^\\]]+/,\n        lookbehind: !0\n      },\n      string: /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n      punctuation: /^[\\[\\]!:]|[<>]/\n    },\n    alias: 'url'\n  },\n  bold: {\n    pattern: /(^|[^\\\\])(\\*\\*|__)(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: {\n      punctuation: /^\\*\\*|^__|\\*\\*$|__$/\n    }\n  },\n  italic: {\n    pattern: /(^|[^\\\\])([*_])(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: {\n      punctuation: /^[*_]|[*_]$/\n    }\n  },\n  url: {\n    pattern: /!?\\[[^\\]]+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)| ?\\[[^\\]\\n]*\\])/,\n    inside: {\n      variable: {\n        pattern: /(!?\\[)[^\\]]+(?=\\]$)/,\n        lookbehind: !0\n      },\n      string: {\n        pattern: /\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/\n      }\n    }\n  }\n});\nPrism.languages.markdown.bold.inside.url = Prism.util.clone(Prism.languages.markdown.url);\nPrism.languages.markdown.italic.inside.url = Prism.util.clone(Prism.languages.markdown.url);\nPrism.languages.markdown.bold.inside.italic = Prism.util.clone(Prism.languages.markdown.italic);\nPrism.languages.markdown.italic.inside.bold = Prism.util.clone(Prism.languages.markdown.bold); // prettier-ignore\n\nexport default CodeHighlightingExample;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CodeHighlightingExample\");\n$RefreshReg$(_c2, \"Leaf\");","map":{"version":3,"sources":["/Users/yonggu/WebstormProjects/slate/site/examples/code-highlighting.tsx"],"names":["Prism","React","useState","useCallback","useMemo","Slate","Editable","withReact","Text","createEditor","withHistory","css","CodeHighlightingExample","initialValue","value","setValue","language","setLanguage","renderLeaf","props","editor","decorate","node","path","ranges","isText","tokens","tokenize","text","languages","start","token","length","getLength","end","push","type","offset","position","top","right","e","target","content","reduce","l","t","Leaf","attributes","children","leaf","comment","operator","url","keyword","variable","regex","number","tag","constant","symbol","attr","name","selector","punctuation","string","python","extend","insertBefore","pattern","alias","javascript","html","markdown","blockquote","code","title","inside","lookbehind","hr","list","bold","italic","util","clone"],"mappings":"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","sourcesContent":["import Prism from 'prismjs'\nimport 'prismjs/components/prism-python'\nimport 'prismjs/components/prism-php'\nimport 'prismjs/components/prism-sql'\nimport 'prismjs/components/prism-java'\nimport React, { useState, useCallback, useMemo } from 'react'\nimport { Slate, Editable, withReact } from 'slate-react'\nimport { Text, createEditor, Node } from 'slate'\nimport { withHistory } from 'slate-history'\nimport { css } from 'emotion'\n\nconst CodeHighlightingExample = () => {\n  const [value, setValue] = useState<Node[]>(initialValue)\n  const [language, setLanguage] = useState('html')\n  const renderLeaf = useCallback(props => <Leaf {...props} />, [])\n  const editor = useMemo(() => withHistory(withReact(createEditor())), [])\n\n  // decorate function depends on the language selected\n  const decorate = useCallback(\n    ([node, path]) => {\n      const ranges = []\n      if (!Text.isText(node)) {\n        return ranges\n      }\n      const tokens = Prism.tokenize(node.text, Prism.languages[language])\n      let start = 0\n\n      for (const token of tokens) {\n        const length = getLength(token)\n        const end = start + length\n\n        if (typeof token !== 'string') {\n          ranges.push({\n            [token.type]: true,\n            anchor: { path, offset: start },\n            focus: { path, offset: end },\n          })\n        }\n\n        start = end\n      }\n\n      return ranges\n    },\n    [language]\n  )\n\n  return (\n    <Slate editor={editor} value={value} onChange={value => setValue(value)}>\n      <div\n        contentEditable={false}\n        style={{ position: 'relative', top: '5px', right: '5px' }}\n      >\n        <h3>\n          Select a language\n          <select\n            value={language}\n            style={{ float: 'right' }}\n            onChange={e => setLanguage(e.target.value)}\n          >\n            <option value=\"js\">JavaScript</option>\n            <option value=\"css\">CSS</option>\n            <option value=\"html\">HTML</option>\n            <option value=\"python\">Python</option>\n            <option value=\"sql\">SQL</option>\n            <option value=\"java\">Java</option>\n            <option value=\"php\">PHP</option>\n          </select>\n        </h3>\n      </div>\n      <Editable\n        decorate={decorate}\n        renderLeaf={renderLeaf}\n        placeholder=\"Write some code...\"\n      />\n    </Slate>\n  )\n}\n\nconst getLength = token => {\n  if (typeof token === 'string') {\n    return token.length\n  } else if (typeof token.content === 'string') {\n    return token.content.length\n  } else {\n    return token.content.reduce((l, t) => l + getLength(t), 0)\n  }\n}\n\n// different token types, styles found on Prismjs website\nconst Leaf = ({ attributes, children, leaf }) => {\n  return (\n    <span\n      {...attributes}\n      className={css`\n            font-family: monospace;\n            background: hsla(0, 0%, 100%, .5);\n\n        ${leaf.comment &&\n          css`\n            color: slategray;\n          `} \n\n        ${(leaf.operator || leaf.url) &&\n          css`\n            color: #9a6e3a;\n          `}\n        ${leaf.keyword &&\n          css`\n            color: #07a;\n          `}\n        ${(leaf.variable || leaf.regex) &&\n          css`\n            color: #e90;\n          `}\n        ${(leaf.number ||\n          leaf.boolean ||\n          leaf.tag ||\n          leaf.constant ||\n          leaf.symbol ||\n          leaf.attr - name ||\n          leaf.selector) &&\n          css`\n            color: #905;\n          `}\n        ${leaf.punctuation &&\n          css`\n            color: #999;\n          `}\n        ${(leaf.string || leaf.char) &&\n          css`\n            color: #690;\n          `}\n        ${(leaf.function || leaf.class - name) &&\n          css`\n            color: #dd4a68;\n          `}\n        `}\n    >\n      {children}\n    </span>\n  )\n}\n\nconst initialValue = [\n  {\n    children: [\n      {\n        text: '<h1>Hi!</h1>',\n      },\n    ],\n  },\n]\n\n// modifications and additions to prism library\n\nPrism.languages.python = Prism.languages.extend('python', {})\nPrism.languages.insertBefore('python', 'prolog', {\n  comment: { pattern: /##[^\\n]*/, alias: 'comment' },\n})\nPrism.languages.javascript = Prism.languages.extend('javascript', {})\nPrism.languages.insertBefore('javascript', 'prolog', {\n  comment: { pattern: /\\/\\/[^\\n]*/, alias: 'comment' },\n})\nPrism.languages.html = Prism.languages.extend('html', {})\nPrism.languages.insertBefore('html', 'prolog', {\n  comment: { pattern: /<!--[^\\n]*-->/, alias: 'comment' },\n})\nPrism.languages.markdown = Prism.languages.extend('markup', {})\nPrism.languages.insertBefore('markdown', 'prolog', {\n  blockquote: { pattern: /^>(?:[\\t ]*>)*/m, alias: 'punctuation' },\n  code: [\n    { pattern: /^(?: {4}|\\t).+/m, alias: 'keyword' },\n    { pattern: /``.+?``|`[^`\\n]+`/, alias: 'keyword' },\n  ],\n  title: [\n    {\n      pattern: /\\w+.*(?:\\r?\\n|\\r)(?:==+|--+)/,\n      alias: 'important',\n      inside: { punctuation: /==+$|--+$/ },\n    },\n    {\n      pattern: /(^\\s*)#+.+/m,\n      lookbehind: !0,\n      alias: 'important',\n      inside: { punctuation: /^#+|#+$/ },\n    },\n  ],\n  hr: {\n    pattern: /(^\\s*)([*-])([\\t ]*\\2){2,}(?=\\s*$)/m,\n    lookbehind: !0,\n    alias: 'punctuation',\n  },\n  list: {\n    pattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n    lookbehind: !0,\n    alias: 'punctuation',\n  },\n  'url-reference': {\n    pattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n    inside: {\n      variable: { pattern: /^(!?\\[)[^\\]]+/, lookbehind: !0 },\n      string: /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n      punctuation: /^[\\[\\]!:]|[<>]/,\n    },\n    alias: 'url',\n  },\n  bold: {\n    pattern: /(^|[^\\\\])(\\*\\*|__)(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: { punctuation: /^\\*\\*|^__|\\*\\*$|__$/ },\n  },\n  italic: {\n    pattern: /(^|[^\\\\])([*_])(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: { punctuation: /^[*_]|[*_]$/ },\n  },\n  url: {\n    pattern: /!?\\[[^\\]]+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)| ?\\[[^\\]\\n]*\\])/,\n    inside: {\n      variable: { pattern: /(!?\\[)[^\\]]+(?=\\]$)/, lookbehind: !0 },\n      string: { pattern: /\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/ },\n    },\n  },\n})\nPrism.languages.markdown.bold.inside.url = Prism.util.clone(\n  Prism.languages.markdown.url\n)\nPrism.languages.markdown.italic.inside.url = Prism.util.clone(\n  Prism.languages.markdown.url\n)\nPrism.languages.markdown.bold.inside.italic = Prism.util.clone(\n  Prism.languages.markdown.italic\n)\nPrism.languages.markdown.italic.inside.bold = Prism.util.clone(Prism.languages.markdown.bold); // prettier-ignore\n\nexport default CodeHighlightingExample\n"]},"metadata":{},"sourceType":"module"}
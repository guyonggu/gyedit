{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/yonggu/WebstormProjects/gyedit/site/examples/hovering-toolbar.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n          padding: 8px 7px 6px;\\n          position: absolute;\\n          z-index: 1;\\n          top: -10000px;\\n          left: -10000px;\\n          margin-top: -6px;\\n          opacity: 0;\\n          background-color: #222;\\n          border-radius: 4px;\\n          transition: opacity 0.75s;\\n        \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useMemo, useRef, useEffect } from 'react';\nimport { Slate, Editable, ReactEditor, withReact, useSlate } from 'slate-react';\nimport { Editor, Transforms, Text, createEditor } from 'slate';\nimport { css } from 'emotion';\nimport { withHistory } from 'slate-history';\nimport { Button, Icon, Menu, Portal } from '../components';\nimport { Range } from 'slate';\n\nvar HoveringMenuExample = function HoveringMenuExample() {\n  _s();\n\n  var _useState = useState(initialValue),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var editor = useMemo(function () {\n    return withHistory(withReact(createEditor()));\n  }, []);\n  return __jsx(Slate, {\n    editor: editor,\n    value: value,\n    onChange: function onChange(value) {\n      return setValue(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, __jsx(HoveringToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }), __jsx(Editable, {\n    renderLeaf: function renderLeaf(props) {\n      return __jsx(Leaf, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 30\n        }\n      }));\n    },\n    placeholder: \"Enter some text...\",\n    onDOMBeforeInput: function onDOMBeforeInput(event) {\n      event.preventDefault();\n\n      switch (event.inputType) {\n        case 'formatBold':\n          return toggleFormat(editor, 'bold');\n\n        case 'formatItalic':\n          return toggleFormat(editor, 'italic');\n\n        case 'formatUnderline':\n          return toggleFormat(editor, 'underline');\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(HoveringMenuExample, \"4ewp4wBHt4y6QUDh2ipfoCLaKxY=\");\n\n_c = HoveringMenuExample;\n\nvar toggleFormat = function toggleFormat(editor, format) {\n  var isActive = isFormatActive(editor, format);\n  Transforms.setNodes(editor, _defineProperty({}, format, isActive ? null : true), {\n    match: Text.isText,\n    split: true\n  });\n};\n\nvar isFormatActive = function isFormatActive(editor, format) {\n  var _Editor$nodes = Editor.nodes(editor, {\n    match: function match(n) {\n      return n[format] === true;\n    },\n    mode: 'all'\n  }),\n      _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n      match = _Editor$nodes2[0];\n\n  return !!match;\n};\n\nvar Leaf = function Leaf(_ref) {\n  var attributes = _ref.attributes,\n      children = _ref.children,\n      leaf = _ref.leaf;\n\n  if (leaf.bold) {\n    children = __jsx(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  if (leaf.italic) {\n    children = __jsx(\"em\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  if (leaf.underlined) {\n    children = __jsx(\"u\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 16\n      }\n    }, children);\n  }\n\n  return __jsx(\"span\", _extends({}, attributes, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }), children);\n};\n\n_c2 = Leaf;\n\nvar HoveringToolbar = function HoveringToolbar() {\n  _s2();\n\n  var ref = useRef();\n  var editor = useSlate();\n  useEffect(function () {\n    var el = ref.current;\n    var selection = editor.selection;\n\n    if (!el) {\n      return;\n    }\n\n    if (!selection || !ReactEditor.isFocused(editor) || Range.isCollapsed(selection) || Editor.string(editor, selection) === '') {\n      el.removeAttribute('style');\n      return;\n    }\n\n    var domSelection = window.getSelection();\n    var domRange = domSelection.getRangeAt(0);\n    var rect = domRange.getBoundingClientRect();\n    el.style.opacity = '1';\n    el.style.top = \"\".concat(rect.top + window.pageYOffset - el.offsetHeight, \"px\");\n    el.style.left = \"\".concat(rect.left + window.pageXOffset - el.offsetWidth / 2 + rect.width / 2, \"px\");\n  });\n  return __jsx(Portal, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, __jsx(Menu, {\n    ref: ref,\n    className: css(_templateObject()),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, __jsx(FormatButton, {\n    format: \"bold\",\n    icon: \"format_bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), __jsx(FormatButton, {\n    format: \"italic\",\n    icon: \"format_italic\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), __jsx(FormatButton, {\n    format: \"underlined\",\n    icon: \"format_underlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s2(HoveringToolbar, \"zR6WV11V6v+T2KLkAbtbVw8+RTk=\", false, function () {\n  return [useSlate];\n});\n\n_c3 = HoveringToolbar;\n\nvar FormatButton = function FormatButton(_ref2) {\n  _s3();\n\n  var format = _ref2.format,\n      icon = _ref2.icon;\n  var editor = useSlate();\n  return __jsx(Button, {\n    reversed: true,\n    active: isFormatActive(editor, format),\n    onMouseDown: function onMouseDown(event) {\n      event.preventDefault();\n      toggleFormat(editor, format);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, __jsx(Icon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, icon));\n};\n\n_s3(FormatButton, \"YMFVEh3YGumTkrWAgpqmxHJ20Oc=\", false, function () {\n  return [useSlate];\n});\n\n_c4 = FormatButton;\nvar initialValue = [{\n  children: [{\n    text: 'This example shows how you can make a hovering menu appear above your content, which you can use to make text '\n  }, {\n    text: 'bold',\n    bold: true\n  }, {\n    text: ', '\n  }, {\n    text: 'italic',\n    italic: true\n  }, {\n    text: ', or anything else you might want to do!'\n  }]\n}, {\n  children: [{\n    text: 'Try it out yourself! Just '\n  }, {\n    text: 'select any piece of text and the menu will appear',\n    bold: true\n  }, {\n    text: '.'\n  }]\n}];\nexport default HoveringMenuExample;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"HoveringMenuExample\");\n$RefreshReg$(_c2, \"Leaf\");\n$RefreshReg$(_c3, \"HoveringToolbar\");\n$RefreshReg$(_c4, \"FormatButton\");","map":{"version":3,"sources":["/Users/yonggu/WebstormProjects/gyedit/site/examples/hovering-toolbar.tsx"],"names":["React","useState","useMemo","useRef","useEffect","Slate","Editable","ReactEditor","withReact","useSlate","Editor","Transforms","Text","createEditor","css","withHistory","Button","Icon","Menu","Portal","Range","HoveringMenuExample","initialValue","value","setValue","editor","props","event","preventDefault","inputType","toggleFormat","format","isActive","isFormatActive","setNodes","match","isText","split","nodes","n","mode","Leaf","attributes","children","leaf","bold","italic","underlined","HoveringToolbar","ref","el","current","selection","isFocused","isCollapsed","string","removeAttribute","domSelection","window","getSelection","domRange","getRangeAt","rect","getBoundingClientRect","style","opacity","top","pageYOffset","offsetHeight","left","pageXOffset","offsetWidth","width","FormatButton","icon","text"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useRef, useEffect } from 'react'\nimport { Slate, Editable, ReactEditor, withReact, useSlate } from 'slate-react'\nimport { Editor, Transforms, Text, createEditor, Node } from 'slate'\nimport { css } from 'emotion'\nimport { withHistory } from 'slate-history'\n\nimport { Button, Icon, Menu, Portal } from '../components'\nimport { Range } from 'slate'\n\nconst HoveringMenuExample = () => {\n  const [value, setValue] = useState<Node[]>(initialValue)\n  const editor = useMemo(() => withHistory(withReact(createEditor())), [])\n\n  return (\n    <Slate editor={editor} value={value} onChange={value => setValue(value)}>\n      <HoveringToolbar />\n      <Editable\n        renderLeaf={props => <Leaf {...props} />}\n        placeholder=\"Enter some text...\"\n        onDOMBeforeInput={(event: InputEvent) => {\n          event.preventDefault()\n          switch (event.inputType) {\n            case 'formatBold':\n              return toggleFormat(editor, 'bold')\n            case 'formatItalic':\n              return toggleFormat(editor, 'italic')\n            case 'formatUnderline':\n              return toggleFormat(editor, 'underline')\n          }\n        }}\n      />\n    </Slate>\n  )\n}\n\nconst toggleFormat = (editor, format) => {\n  const isActive = isFormatActive(editor, format)\n  Transforms.setNodes(\n    editor,\n    { [format]: isActive ? null : true },\n    { match: Text.isText, split: true }\n  )\n}\n\nconst isFormatActive = (editor, format) => {\n  const [match] = Editor.nodes(editor, {\n    match: n => n[format] === true,\n    mode: 'all',\n  })\n  return !!match\n}\n\nconst Leaf = ({ attributes, children, leaf }) => {\n  if (leaf.bold) {\n    children = <strong>{children}</strong>\n  }\n\n  if (leaf.italic) {\n    children = <em>{children}</em>\n  }\n\n  if (leaf.underlined) {\n    children = <u>{children}</u>\n  }\n\n  return <span {...attributes}>{children}</span>\n}\n\nconst HoveringToolbar = () => {\n  const ref = useRef<HTMLDivElement | null>()\n  const editor = useSlate()\n\n  useEffect(() => {\n    const el = ref.current\n    const { selection } = editor\n\n    if (!el) {\n      return\n    }\n\n    if (\n      !selection ||\n      !ReactEditor.isFocused(editor) ||\n      Range.isCollapsed(selection) ||\n      Editor.string(editor, selection) === ''\n    ) {\n      el.removeAttribute('style')\n      return\n    }\n\n    const domSelection = window.getSelection()\n    const domRange = domSelection.getRangeAt(0)\n    const rect = domRange.getBoundingClientRect()\n    el.style.opacity = '1'\n    el.style.top = `${rect.top + window.pageYOffset - el.offsetHeight}px`\n    el.style.left = `${rect.left +\n      window.pageXOffset -\n      el.offsetWidth / 2 +\n      rect.width / 2}px`\n  })\n\n  return (\n    <Portal>\n      <Menu\n        ref={ref}\n        className={css`\n          padding: 8px 7px 6px;\n          position: absolute;\n          z-index: 1;\n          top: -10000px;\n          left: -10000px;\n          margin-top: -6px;\n          opacity: 0;\n          background-color: #222;\n          border-radius: 4px;\n          transition: opacity 0.75s;\n        `}\n      >\n        <FormatButton format=\"bold\" icon=\"format_bold\" />\n        <FormatButton format=\"italic\" icon=\"format_italic\" />\n        <FormatButton format=\"underlined\" icon=\"format_underlined\" />\n      </Menu>\n    </Portal>\n  )\n}\n\nconst FormatButton = ({ format, icon }) => {\n  const editor = useSlate()\n  return (\n    <Button\n      reversed\n      active={isFormatActive(editor, format)}\n      onMouseDown={event => {\n        event.preventDefault()\n        toggleFormat(editor, format)\n      }}\n    >\n      <Icon>{icon}</Icon>\n    </Button>\n  )\n}\n\nconst initialValue = [\n  {\n    children: [\n      {\n        text:\n          'This example shows how you can make a hovering menu appear above your content, which you can use to make text ',\n      },\n      { text: 'bold', bold: true },\n      { text: ', ' },\n      { text: 'italic', italic: true },\n      { text: ', or anything else you might want to do!' },\n    ],\n  },\n  {\n    children: [\n      { text: 'Try it out yourself! Just ' },\n      { text: 'select any piece of text and the menu will appear', bold: true },\n      { text: '.' },\n    ],\n  },\n]\n\nexport default HoveringMenuExample\n"]},"metadata":{},"sourceType":"module"}